{"version":3,"sources":["webpack:///./src/views/NewPublish.vue?4ec2","webpack:///./src/views/NewPublish.vue?097f","webpack:///src/views/NewPublish.vue","webpack:///./src/views/NewPublish.vue?6659","webpack:///./src/views/NewPublish.vue","webpack:///./src/views/NewPublish.vue?cf21","webpack:///./node_modules/core-js/modules/web.dom.iterable.js"],"names":[],"mappings":"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","file":"js/chunk-4ace58b6.9c95b3a0.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewPublish.vue?vue&type=style&index=0&id=5a17a649&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewPublish.vue?vue&type=style&index=0&id=5a17a649&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"publish\"},[_c('el-form',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],ref:\"publishment\",attrs:{\"model\":_vm.publishment,\"rules\":_vm.rules,\"label-position\":\"right\",\"label-width\":\"200px\"}},[_c('el-divider',[_c('span',{staticStyle:{\"color\":\"lightgrey\"}},[_vm._v(\"项目基本信息\")])]),_c('el-form-item',{attrs:{\"label\":\"发布名称\",\"prop\":\"name\"}},[_c('el-input',{attrs:{\"placeholder\":\"eg: develop_youxuan_supplier_web\"},model:{value:(_vm.publishment.name),callback:function ($$v) {_vm.$set(_vm.publishment, \"name\", $$v)},expression:\"publishment.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"描述\",\"prop\":\"description\"}},[_c('el-input',{attrs:{\"placeholder\":\"eg: 妈妈优选供应商web端（线下环境）\"},model:{value:(_vm.publishment.description),callback:function ($$v) {_vm.$set(_vm.publishment, \"description\", $$v)},expression:\"publishment.description\"}})],1),_c('el-divider',[_c('span',{staticStyle:{\"color\":\"lightgrey\"}},[_vm._v(\"git相关信息\")])]),_c('el-form-item',{attrs:{\"label\":\"git仓库地址\",\"prop\":\"git_repo_id\"}},[_c('el-select',{attrs:{\"filterable\":\"\",\"placeholder\":\"请选择\"},on:{\"change\":function($event){return _vm.resetBranch()}},model:{value:(_vm.publishment.git_repo_id),callback:function ($$v) {_vm.$set(_vm.publishment, \"git_repo_id\", $$v)},expression:\"publishment.git_repo_id\"}},_vm._l((_vm.git_repo_options),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"git分支\",\"prop\":\"git_branches\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.publishment.git_branch_type),callback:function ($$v) {_vm.$set(_vm.publishment, \"git_branch_type\", $$v)},expression:\"publishment.git_branch_type\"}},_vm._l((_vm.git_branch_types),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1),_c('el-select',{attrs:{\"multiple\":\"\",\"placeholder\":\"请选择（支持多选）\"},on:{\"focus\":function($event){return _vm.get_git_repo_branches()}},model:{value:(_vm.publishment.git_branches),callback:function ($$v) {_vm.$set(_vm.publishment, \"git_branches\", $$v)},expression:\"publishment.git_branches\"}},_vm._l((_vm.git_branch_options),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_c('el-divider',[_c('span',{staticStyle:{\"color\":\"lightgrey\"}},[_vm._v(\"maven打包相关信息\")])]),_c('el-form-item',{attrs:{\"label\":\"发布环境\",\"prop\":\"profile\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.publishment.profile),callback:function ($$v) {_vm.$set(_vm.publishment, \"profile\", $$v)},expression:\"publishment.profile\"}},_vm._l((_vm.profile_options),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"发布文件位置（相对）\",\"prop\":\"source_file_dir\"}},[_c('el-input',{attrs:{\"placeholder\":\"eg: target 或者 youxuan-web/target\"},model:{value:(_vm.publishment.source_file_dir),callback:function ($$v) {_vm.$set(_vm.publishment, \"source_file_dir\", $$v)},expression:\"publishment.source_file_dir\"}})],1),_c('el-divider',[_c('span',{staticStyle:{\"color\":\"lightgrey\"}},[_vm._v(\"目标服务器信息\")])]),_c('el-form-item',{attrs:{\"label\":\"目标服务器\",\"prop\":\"to_ip\"}},[_c('el-select',{attrs:{\"multiple\":\"\",\"filterable\":\"\",\"allow-create\":\"\",\"placeholder\":\"请选择或输入（支持多项）\"},on:{\"focus\":function($event){return _vm.change_ip_group()}},model:{value:(_vm.publishment.to_ip),callback:function ($$v) {_vm.$set(_vm.publishment, \"to_ip\", $$v)},expression:\"publishment.to_ip\"}},_vm._l((_vm.to_ip_options),function(group){return _c('el-option-group',{key:group.label,attrs:{\"label\":group.label}},_vm._l((group.options),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)}),1)],1),_c('el-form-item',{attrs:{\"label\":\"目标服务器项目目录\",\"prop\":\"to_project_home\"}},[_c('el-input',{attrs:{\"placeholder\":\"eg: /data/project/mama_[project_name]\"},model:{value:(_vm.publishment.to_project_home),callback:function ($$v) {_vm.$set(_vm.publishment, \"to_project_home\", $$v)},expression:\"publishment.to_project_home\"}})],1),_c('el-form-item',{attrs:{\"label\":\"目标服务器进程名关键词\",\"prop\":\"to_process_name\"}},[_c('el-input',{attrs:{\"placeholder\":\"eg: xiaodian-usercenter(-1.0.0-SNAPSHOT.jar) 杀死进程和发布时版本通常省略\"},model:{value:(_vm.publishment.to_process_name),callback:function ($$v) {_vm.$set(_vm.publishment, \"to_process_name\", $$v)},expression:\"publishment.to_process_name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"java变量\",\"prop\":\"to_java_opts\"}},[_c('el-input',{attrs:{\"placeholder\":\"eg: -Xms768m -Xmx768m 线下可配置区间值如：-Xms256m -Xmx1024m\"},model:{value:(_vm.publishment.to_java_opts),callback:function ($$v) {_vm.$set(_vm.publishment, \"to_java_opts\", $$v)},expression:\"publishment.to_java_opts\"}})],1),_c('el-divider',[_c('span',{staticStyle:{\"color\":\"lightgrey\"}},[_vm._v(\"发布完毕后git相关操作\")])]),_c('el-form-item',{attrs:{\"label\":\"发布完毕合并到git分支\",\"prop\":\"git_merged_branch\"}},[_c('el-select',{attrs:{\"clearable\":\"\",\"placeholder\":\"请选择\"},on:{\"focus\":function($event){return _vm.get_git_repo_branches()}},model:{value:(_vm.publishment.git_merged_branch),callback:function ($$v) {_vm.$set(_vm.publishment, \"git_merged_branch\", $$v)},expression:\"publishment.git_merged_branch\"}},_vm._l((_vm.git_branch_options),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"发布完毕后打标签名\",\"prop\":\"git_tag_version\"}},[_c('el-input',{attrs:{\"placeholder\":\"eg: v1.0.0\"},model:{value:(_vm.publishment.git_tag_version),callback:function ($$v) {_vm.$set(_vm.publishment, \"git_tag_version\", $$v)},expression:\"publishment.git_tag_version\"}})],1),_c('el-form-item',{attrs:{\"label\":\"发布完毕后打标签注释\",\"prop\":\"git_tag_comment\"}},[_c('el-input',{attrs:{\"placeholder\":\"eg: 项目的第一个版本\"},model:{value:(_vm.publishment.git_tag_comment),callback:function ($$v) {_vm.$set(_vm.publishment, \"git_tag_comment\", $$v)},expression:\"publishment.git_tag_comment\"}})],1),_c('el-form-item',{staticStyle:{\"text-align\":\"left\"},attrs:{\"label\":\"发布完毕后是否删除临时分支\",\"prop\":\"git_delete_temp_branch\"}},[_c('el-switch',{model:{value:(_vm.publishment.git_delete_temp_branch),callback:function ($$v) {_vm.$set(_vm.publishment, \"git_delete_temp_branch\", $$v)},expression:\"publishment.git_delete_temp_branch\"}})],1),_c('el-form-item',{staticStyle:{\"text-align\":\"left\"}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"立即创建\")]),_c('el-button',{on:{\"click\":function($event){return _vm.resetForm('ruleForm')}}},[_vm._v(\"重置\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"publish\">\n    <el-form\n      ref=\"publishment\"\n      :model=\"publishment\"\n      :rules=\"rules\"\n      label-position=\"right\"\n      label-width=\"200px\"\n      v-loading=\"loading\"\n    >\n      <el-divider><span style=\"color: lightgrey;\">项目基本信息</span></el-divider>\n      <el-form-item label=\"发布名称\" prop=\"name\">\n        <el-input v-model=\"publishment.name\" placeholder=\"eg: develop_youxuan_supplier_web\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"描述\" prop=\"description\">\n        <el-input v-model=\"publishment.description\" placeholder=\"eg: 妈妈优选供应商web端（线下环境）\"></el-input>\n      </el-form-item>\n      <el-divider><span style=\"color: lightgrey;\">git相关信息</span></el-divider>\n      <el-form-item label=\"git仓库地址\" prop=\"git_repo_id\">\n        <el-select\n          v-model=\"publishment.git_repo_id\"\n          filterable\n          placeholder=\"请选择\"\n          @change=\"resetBranch()\"\n        >\n          <el-option\n            v-for=\"item in git_repo_options\"\n            :key=\"item.value\"\n            :label=\"item.label\"\n            :value=\"item.value\"\n          ></el-option>\n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"git分支\" prop=\"git_branches\">\n        <el-select v-model=\"publishment.git_branch_type\" placeholder=\"请选择\">\n          <el-option\n            v-for=\"item in git_branch_types\"\n            :key=\"item.value\"\n            :label=\"item.label\"\n            :value=\"item.value\"\n          ></el-option>\n        </el-select>\n        <el-select\n          v-model=\"publishment.git_branches\"\n          multiple\n          placeholder=\"请选择（支持多选）\"\n          @focus=\"get_git_repo_branches()\"\n        >\n          <el-option\n            v-for=\"item in git_branch_options\"\n            :key=\"item.value\"\n            :label=\"item.label\"\n            :value=\"item.value\"\n          ></el-option>\n        </el-select>\n      </el-form-item>\n      <el-divider><span style=\"color: lightgrey;\">maven打包相关信息</span></el-divider>\n      <el-form-item label=\"发布环境\" prop=\"profile\">\n        <el-select v-model=\"publishment.profile\" placeholder=\"请选择\">\n          <el-option\n            v-for=\"item in profile_options\"\n            :key=\"item.value\"\n            :label=\"item.label\"\n            :value=\"item.value\"\n          ></el-option>\n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"发布文件位置（相对）\" prop=\"source_file_dir\">\n        <el-input v-model=\"publishment.source_file_dir\" placeholder=\"eg: target 或者 youxuan-web/target\"></el-input>\n      </el-form-item>\n      <el-divider><span style=\"color: lightgrey;\">目标服务器信息</span></el-divider>\n      <el-form-item label=\"目标服务器\" prop=\"to_ip\">\n        <el-select\n          v-model=\"publishment.to_ip\"\n          multiple\n          filterable\n          allow-create\n          placeholder=\"请选择或输入（支持多项）\"\n          @focus=\"change_ip_group()\"\n        >\n          <el-option-group v-for=\"group in to_ip_options\" :key=\"group.label\" :label=\"group.label\">\n            <el-option\n              v-for=\"item in group.options\"\n              :key=\"item.value\"\n              :label=\"item.label\"\n              :value=\"item.value\"\n            ></el-option>\n          </el-option-group>\n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"目标服务器项目目录\" prop=\"to_project_home\">\n        <el-input\n          v-model=\"publishment.to_project_home\"\n          placeholder=\"eg: /data/project/mama_[project_name]\"\n        ></el-input>\n      </el-form-item>\n      <el-form-item label=\"目标服务器进程名关键词\" prop=\"to_process_name\">\n        <el-input\n          v-model=\"publishment.to_process_name\"\n          placeholder=\"eg: xiaodian-usercenter(-1.0.0-SNAPSHOT.jar) 杀死进程和发布时版本通常省略\"\n        ></el-input>\n      </el-form-item>\n      <el-form-item label=\"java变量\" prop=\"to_java_opts\">\n        <el-input\n          v-model=\"publishment.to_java_opts\"\n          placeholder=\"eg: -Xms768m -Xmx768m 线下可配置区间值如：-Xms256m -Xmx1024m\"\n        ></el-input>\n      </el-form-item>\n      <el-divider><span style=\"color: lightgrey;\">发布完毕后git相关操作</span></el-divider>\n      <el-form-item label=\"发布完毕合并到git分支\" prop=\"git_merged_branch\">\n        <el-select\n          v-model=\"publishment.git_merged_branch\"\n          clearable\n          placeholder=\"请选择\"\n          @focus=\"get_git_repo_branches()\"\n        >\n          <el-option\n            v-for=\"item in git_branch_options\"\n            :key=\"item.value\"\n            :label=\"item.label\"\n            :value=\"item.value\"\n          ></el-option>\n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"发布完毕后打标签名\" prop=\"git_tag_version\">\n        <el-input v-model=\"publishment.git_tag_version\" placeholder=\"eg: v1.0.0\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"发布完毕后打标签注释\" prop=\"git_tag_comment\">\n        <el-input v-model=\"publishment.git_tag_comment\" placeholder=\"eg: 项目的第一个版本\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"发布完毕后是否删除临时分支\" prop=\"git_delete_temp_branch\" style=\"text-align: left;\">\n        <el-switch v-model=\"publishment.git_delete_temp_branch\"></el-switch>\n      </el-form-item>\n      <el-form-item style=\"text-align: left;\">\n        <el-button type=\"primary\" @click=\"onSubmit\">立即创建</el-button>\n        <el-button @click=\"resetForm('ruleForm')\">重置</el-button>\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n<script>\nimport http from \"../util/http.js\";\nexport default {\n  data() {\n    return {\n      publishment: {\n        name: null,\n        description: null,\n        git_repo_id: null,\n        git_branch_type: \"branches\",\n        git_branches: [],\n        profile: null,\n        source_file_dir: null,\n        to_ip: [],\n        to_project_home: null,\n        to_process_name: null,\n        to_java_opts: null,\n        git_merged_branch: null,\n        git_tag_version: null,\n        git_tag_comment: null,\n        git_delete_temp_branch: null\n      },\n      git_repo_options: [],\n      git_branch_types: [\n        {\n          value: \"branches\",\n          label: \"分支\"\n        },\n        {\n          value: \"tags\",\n          label: \"标签\"\n        },\n        {\n          value: \"commits\",\n          label: \"提交记录\"\n        }\n      ],\n      git_branch_options: [\n        // {\n        //   value: \"master\",\n        //   label: \"master\"\n        // }\n      ],\n      profile_options: [\n        {\n          value: \"dev\",\n          label: \"开发环境（dev）\"\n        },\n        {\n          value: \"test\",\n          label: \"测试环境（test）\"\n        },\n        {\n          value: \"pre\",\n          label: \"预发环境（pre）\"\n        },\n        {\n          value: \"online\",\n          label: \"生产环境（online）\"\n        }\n      ],\n      to_ip_options: [\n        {\n          label: \"线下\",\n          options: [\n            {\n              value: \"192.168.1.248\",\n              label: \"192.168.1.248\"\n            },\n            {\n              value: \"192.168.1.249\",\n              label: \"192.168.1.249\"\n            },\n            {\n              value: \"192.168.1.251\",\n              label: \"192.168.1.251\"\n            }\n          ]\n        },\n        {\n          label: \"预发\",\n          options: [\n            {\n              value: \"47.96.18.198\",\n              label: \"47.96.18.198\"\n            }\n          ]\n        },\n        {\n          label: \"线上\",\n          options: [\n            {\n              value: \"114.55.232.195\",\n              label: \"114.55.232.195\"\n            },\n            {\n              value: \"118.178.128.57\",\n              label: \"118.178.128.57\"\n            },\n            {\n              value: \"47.110.153.206\",\n              label: \"47.110.153.206\"\n            },\n            {\n              value: \"47.110.154.253\",\n              label: \"47.110.154.253\"\n            }\n          ]\n        }\n      ],\n      rules: {\n        name: [\n          { required: true, message: \"请输入发布名称\", trigger: \"blur\" },\n          { min: 3, max: 50, message: \"长度在3到50个字符\", trigger: \"blur\" }\n        ],\n        description: [\n          { required: true, message: \"请输入发布名称\", trigger: \"blur\" },\n          { min: 5, max: 100, message: \"长度在5到100个字符\", trigger: \"blur\" }\n        ],\n        git_repo_id: [\n          { required: true, message: \"请选择git仓库地址\", trigger: \"change\" }\n        ],\n        git_branches: [\n          { required: true, message: \"请选择git分支名称\", trigger: \"change\" }\n        ],\n        profile: [\n          { required: true, message: \"请选择发布环境\", trigger: \"change\" }\n        ],\n        to_ip: [\n          { required: true, message: \"请选择目标服务器ip\", trigger: \"change\" }\n        ],\n        to_project_home: [\n          {\n            required: true,\n            message: \"请输入目标服务器项目主目录\",\n            trigger: \"blur\"\n          }\n        ],\n        to_process_name: [\n          {\n            required: true,\n            message: \"请输入目标服务器项目进程名\",\n            trigger: \"blur\"\n          }\n        ]\n      },\n      loading: false\n    };\n  },\n  methods: {\n    list_git_repos() {\n      this.loading = true;\n      http\n        .get(\"/git/repos\")\n        .then(response => {\n          this.git_repo_options.length = 0;\n          response.data.forEach(repo => {\n            this.git_repo_options.push({\n              value: repo.id,\n              label: repo.ssh_url_to_repo + \" (\" + repo.description + \")\"\n            });\n          });\n        })\n        .catch(error => {\n          console.log(\"error: \" + error);\n        })\n        .then(() => {\n          this.loading = false;\n        });\n    },\n    get_git_repo_branches() {\n      if (!this.publishment.git_repo_id) {\n        this.$message({\n          message: \"请先选择一个git仓库\",\n          type: \"warning\"\n        });\n        return;\n      }\n      this.loading = true;\n      http\n        .get(\n          \"/git/repo/\" +\n            this.publishment.git_repo_id +\n            \"/\" +\n            this.publishment.git_branch_type\n        )\n        .then(response => {\n          // reset\n          this.git_branch_options.length = 0;\n          response.data.forEach(branch => {\n            var branch_value =\n              // this.publishment.git_branch_type == \"tags\" ||\n              this.publishment.git_branch_type == \"commits\"\n                ? branch + \"@\" + this.publishment.git_branch_type\n                : branch;\n            this.git_branch_options.push({\n              value: branch_value,\n              label: branch\n            });\n          });\n        })\n        .catch(error => {\n          console.log(\"error: \" + error);\n        })\n        .then(() => {\n          this.loading = false;\n        });\n    },\n    change_ip_group() {\n      // console.log(\"========\" + this.publishment.profile);\n      // console.log(this._to_ip_options);\n      if (!this.publishment.profile) {\n        return;\n      }\n      // if (this.publishment.profile == 'dev') {\n      //   this.to_ip_options.length = 0;\n      //   this.to_ip_options.push(this._to_ip_options[0]);\n      // } else if (this.publishment.profile == 'pre') {\n      //   this.to_ip_options.length = 0;\n      //   this.to_ip_options.push(this._to_ip_options[1]);\n      // } else if (this.publishment.profile == 'online') {\n      //   this.to_ip_options.length = 0;\n      //   this.to_ip_options.push(this._to_ip_options[2]);\n      // }\n    },\n    onSubmit() {\n      this.$refs[\"publishment\"].validate(valid => {\n        if (valid) {\n          console.log(\"submit!\");\n        } else {\n          console.log(\"error submit!!\");\n          return false;\n        }\n      });\n      http\n        .request({ url: \"/publishment\", method: \"PUT\", data: this.publishment })\n        .then(response => {\n          this.$message({\n            showClose: true,\n            message: \"保存成功\",\n            type: \"success\"\n          });\n          this.$router.push({ path: \"/publishList\" });\n        })\n        .catch(error => {\n          this.$message.error(\"保存失败\");\n        });\n    },\n    resetBranch() {\n      this.publishment.git_branches = null;\n      this.publishment.git_merged_branch = null;\n    },\n    resetForm() {\n      this.$refs[\"publishment\"].resetFields();\n    }\n  },\n  created() {\n    this.list_git_repos();\n  }\n};\n</script>\n<style scoped>\n@import \"../assets/common.css\";\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewPublish.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewPublish.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NewPublish.vue?vue&type=template&id=5a17a649&scoped=true&\"\nimport script from \"./NewPublish.vue?vue&type=script&lang=js&\"\nexport * from \"./NewPublish.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NewPublish.vue?vue&type=style&index=0&id=5a17a649&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5a17a649\",\n  null\n  \n)\n\nexport default component.exports","// extracted by mini-css-extract-plugin","var $iterators = require('./es6.array.iterator');\nvar getKeys = require('./_object-keys');\nvar redefine = require('./_redefine');\nvar global = require('./_global');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar wks = require('./_wks');\nvar ITERATOR = wks('iterator');\nvar TO_STRING_TAG = wks('toStringTag');\nvar ArrayValues = Iterators.Array;\n\nvar DOMIterables = {\n  CSSRuleList: true, // TODO: Not spec compliant, should be false.\n  CSSStyleDeclaration: false,\n  CSSValueList: false,\n  ClientRectList: false,\n  DOMRectList: false,\n  DOMStringList: false,\n  DOMTokenList: true,\n  DataTransferItemList: false,\n  FileList: false,\n  HTMLAllCollection: false,\n  HTMLCollection: false,\n  HTMLFormElement: false,\n  HTMLSelectElement: false,\n  MediaList: true, // TODO: Not spec compliant, should be false.\n  MimeTypeArray: false,\n  NamedNodeMap: false,\n  NodeList: true,\n  PaintRequestList: false,\n  Plugin: false,\n  PluginArray: false,\n  SVGLengthList: false,\n  SVGNumberList: false,\n  SVGPathSegList: false,\n  SVGPointList: false,\n  SVGStringList: false,\n  SVGTransformList: false,\n  SourceBufferList: false,\n  StyleSheetList: true, // TODO: Not spec compliant, should be false.\n  TextTrackCueList: false,\n  TextTrackList: false,\n  TouchList: false\n};\n\nfor (var collections = getKeys(DOMIterables), i = 0; i < collections.length; i++) {\n  var NAME = collections[i];\n  var explicit = DOMIterables[NAME];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  var key;\n  if (proto) {\n    if (!proto[ITERATOR]) hide(proto, ITERATOR, ArrayValues);\n    if (!proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n    Iterators[NAME] = ArrayValues;\n    if (explicit) for (key in $iterators) if (!proto[key]) redefine(proto, key, $iterators[key], true);\n  }\n}\n"],"sourceRoot":""}