{"version":3,"sources":["webpack:///./src/views/UserList.vue?9e51","webpack:///./src/views/UserList.vue?eb9c","webpack:///./src/views/UserList.vue?a328","webpack:///src/views/UserList.vue","webpack:///./src/views/UserList.vue?d1fa","webpack:///./src/views/UserList.vue?e2f0"],"names":[],"mappings":";;;;;;AAAA;AAAA;AAAA;AAAod,CAAgB,kgBAAG,EAAC,C;;;;;;;ACAxe,uC;;;;;;;;;;;ACAA,0BAA0B,aAAa,0BAA0B,wBAAwB,iBAAiB,aAAa,4EAA4E,yBAAyB,iBAAiB,aAAa,eAAe,QAAQ,oGAAoG,wBAAwB,OAAO,4BAA4B,wBAAwB,OAAO,mCAAmC,wBAAwB,OAAO,mCAAmC,wBAAwB,OAAO,+BAA+B,wBAAwB,OAAO,0CAA0C,wBAAwB,OAAO,4BAA4B,wBAAwB,OAAO,oCAAoC,wBAAwB,OAAO,mCAAmC,wBAAwB,OAAO,2CAA2C,wBAAwB,OAAO,0CAA0C,wBAAwB,OAAO,mCAAmC,sBAAsB,iCAAiC,4CAA4C,aAAa,iBAAiB,qDAAqD,aAAa,eAAe,6BAA6B,GAAG,wBAAwB,OAAO,aAAa,sBAAsB,iCAAiC,kBAAkB,aAAa,4CAA4C,kBAAkB,OAAO,wEAAwE,KAAK,yBAAyB,oCAAoC,4EAA4E,aAAa,mBAAmB,QAAQ,iEAAiE,KAAK,yBAAyB,mCAAmC,4IAA4I,GAAG;AACxhE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACwDA;AACA;AACA,MADA,kBACA;AACA;AACA,kBADA;AAEA;AAFA;AAIA,GANA;AAOA;AACA,aADA,uBACA;AACA;AACA,KAHA;AAIA,mBAJA,6BAIA;AACA;AACA,KANA;AAOA,cAPA,wBAOA;AAAA;;AACA,8BACA,GADA,CACA,kBADA,EAEA,IAFA,CAEA;AACA;AACA,OAJA,EAKA,KALA,CAKA;AACA;AACA,OAPA;AAQA,KAhBA;AAiBA,YAjBA,oBAiBA,EAjBA,EAiBA;AACA;AACA,2BADA;AAEA;AACA;AADA;AAFA;AAMA,KAxBA;AAyBA,cAzBA,sBAyBA,GAzBA,EAyBA;AAAA;;AACA;AACA;AACA,0CACA,IADA,CACA;AACA,gCACA,MADA,CACA,mBADA,EACA;AACA;AAAA;AAAA;AADA,SADA,EAIA,IAJA,CAIA;AACA;AACA;AACA,6BADA;AAEA,qCAFA;AAGA;AAHA;;AAKA;AACA,WAPA,MAOA;AACA;AACA;AACA,SAfA,EAgBA,KAhBA,CAgBA;AACA;AACA,SAlBA;AAmBA,OArBA,EAsBA,KAtBA,CAsBA;AACA;AACA,OAxBA;AAyBA;AArDA,GAPA;AA8DA,SA9DA,qBA8DA;AACA;AACA;AAhEA,G;;AC1DkU,CAAgB,2GAAG,EAAC,C;;;;;;;;ACAnP;AACvC;AACL;AACqC;;;AAG5F;AAC0F;AAC1F,gBAAgB,8CAAU;AAC1B,EAAE,sCAAM;AACR,EAAE,MAAM;AACR,EAAE,eAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEe,+F","file":"js/chunk-21725b42.819de566.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserList.vue?vue&type=style&index=0&id=67ae5a0a&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserList.vue?vue&type=style&index=0&id=67ae5a0a&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"userList\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.userList,\"border\":\"\",\"cell-style\":_vm.cellStyle,\"header-cell-style\":_vm.headerCellStyle}},[_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"用户id\"}}),_c('el-table-column',{attrs:{\"prop\":\"nick_name\",\"label\":\"用户昵称\"}}),_c('el-table-column',{attrs:{\"prop\":\"login_code\",\"label\":\"登录名\"}}),_c('el-table-column',{attrs:{\"prop\":\"email\",\"label\":\"用户邮箱\"}}),_c('el-table-column',{attrs:{\"prop\":\"gitlab_email\",\"label\":\"gitlab邮箱\"}}),_c('el-table-column',{attrs:{\"prop\":\"role\",\"label\":\"角色\"}}),_c('el-table-column',{attrs:{\"prop\":\"created_at\",\"label\":\"创建时间\"}}),_c('el-table-column',{attrs:{\"prop\":\"created_by\",\"label\":\"创建人\"}}),_c('el-table-column',{attrs:{\"prop\":\"last_updated_at\",\"label\":\"最近更新时间\"}}),_c('el-table-column',{attrs:{\"prop\":\"last_updated_by\",\"label\":\"最近更新人\"}}),_c('el-table-column',{attrs:{\"prop\":\"is_deleted\",\"label\":\"是否禁用\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.is_deleted == 0)?_c('p',{staticStyle:{\"color\":\"green\"}},[_vm._v(\"正常\")]):(scope.row.is_deleted == 1)?_c('p',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"已禁用\")]):_vm._e()]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticStyle:{\"padding-top\":\"2px\",\"padding-bottom\":\"2px\"}},[_c('el-button',{attrs:{\"type\":\"info\",\"plain\":\"\",\"round\":\"\",\"size\":\"mini\",\"icon\":\"el-icon-edit\"},on:{\"click\":function($event){return _vm.toUpdate(scope.row.id)}}},[_vm._v(\"修改\")]),_c('br'),(scope.row.login_code != 'admin')?_c('el-button',{staticStyle:{\"margin-top\":\"3px\"},attrs:{\"type\":\"danger\",\"round\":\"\",\"size\":\"mini\",\"icon\":\"el-icon-delete\"},on:{\"click\":function($event){return _vm.deleteItem(scope.row)}}},[(scope.row.is_deleted == '0')?_c('span',[_vm._v(\"禁用\")]):(scope.row.is_deleted == '1')?_c('span',[_vm._v(\"启用\")]):_vm._e()]):_vm._e()],1)]}}])})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"userList\" v-loading=\"loading\">\n    <el-table\n      :data=\"userList\"\n      border\n      style=\"width: 100%\"\n      :cell-style=\"cellStyle\"\n      :header-cell-style=\"headerCellStyle\"\n    >\n      <el-table-column prop=\"id\" label=\"用户id\"></el-table-column>\n      <el-table-column prop=\"nick_name\" label=\"用户昵称\"></el-table-column>\n      <el-table-column prop=\"login_code\" label=\"登录名\"></el-table-column>\n      <el-table-column prop=\"email\" label=\"用户邮箱\"></el-table-column>\n      <el-table-column prop=\"gitlab_email\" label=\"gitlab邮箱\"></el-table-column>\n      <el-table-column prop=\"role\" label=\"角色\"></el-table-column>\n      <el-table-column prop=\"created_at\" label=\"创建时间\"></el-table-column>\n      <el-table-column prop=\"created_by\" label=\"创建人\"></el-table-column>\n      <el-table-column prop=\"last_updated_at\" label=\"最近更新时间\"></el-table-column>\n      <el-table-column prop=\"last_updated_by\" label=\"最近更新人\"></el-table-column>\n      <el-table-column prop=\"is_deleted\" label=\"是否禁用\">\n        <template slot-scope=\"scope\">\n          <p v-if=\"scope.row.is_deleted == 0\" style=\"color: green;\">正常</p>\n          <p v-else-if=\"scope.row.is_deleted == 1\" style=\"color: red;\">已禁用</p>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"操作\">\n        <template slot-scope=\"scope\">\n          <div style=\"padding-top: 2px; padding-bottom: 2px;\">\n            <el-button\n              type=\"info\"\n              plain\n              round\n              size=\"mini\"\n              icon=\"el-icon-edit\"\n              @click=\"toUpdate(scope.row.id)\"\n            >修改</el-button>\n            <br />\n            <el-button\n              style=\"margin-top: 3px;\"\n              type=\"danger\"\n              round\n              size=\"mini\"\n              icon=\"el-icon-delete\"\n              @click=\"deleteItem(scope.row)\"\n              v-if=\"scope.row.login_code != 'admin'\"\n            >\n              <span v-if=\"scope.row.is_deleted == '0'\">禁用</span>\n              <span v-else-if=\"scope.row.is_deleted == '1'\">启用</span>\n            </el-button>\n          </div>\n        </template>\n      </el-table-column>\n    </el-table>\n  </div>\n</template>\n\n<script>\nimport http from \"../util/http.js\";\nexport default {\n  data() {\n    return {\n      userList: [],\n      loading: false\n    };\n  },\n  methods: {\n    cellStyle() {\n      return \"text-align: center;\";\n    },\n    headerCellStyle() {\n      return \"text-align: center; background-color: lightgrey; height: 40px;\";\n    },\n    list_users() {\n      http\n        .get(\"/admin/user/list\")\n        .then(response => {\n          this.userList = response.data;\n        })\n        .catch(error => {\n          this.$message.error(\"查询失败\");\n        });\n    },\n    toUpdate(id) {\n      this.$router.push({\n        path: \"/updateUser\",\n        query: {\n          id: id\n        }\n      });\n    },\n    deleteItem(row) {\n      var id = row.id;\n      var keyword = row.is_deleted == 0 ? \"禁用\" : \"启用\";\n      this.$confirm(\"确认\" + keyword + \"？\")\n        .then(_ => {\n          http\n            .delete(\"/admin/user/\" + id, {\n              data: { is_deleted: 1 - row.is_deleted }\n            })\n            .then(response => {\n              if (response.data.status == \"OK\") {\n                this.$message({\n                  showClose: true,\n                  message: keyword + \"成功\",\n                  type: \"success\"\n                });\n                this.list_users();\n              } else {\n                this.$message.error(\"禁用失败\");\n              }\n            })\n            .catch(error => {\n              this.$message.error(\"禁用失败\");\n            });\n        })\n        .catch(_ => {\n          this.$message(\"已取消\");\n        });\n    }\n  },\n  created() {\n    this.list_users();\n  }\n};\n</script>\n<style scoped>\n.userList {\n  margin: auto;\n  margin-top: 10px;\n  width: 100%;\n}\n.userList td {\n  width: 100px;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserList.vue?vue&type=template&id=67ae5a0a&scoped=true&\"\nimport script from \"./UserList.vue?vue&type=script&lang=js&\"\nexport * from \"./UserList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserList.vue?vue&type=style&index=0&id=67ae5a0a&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"67ae5a0a\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}